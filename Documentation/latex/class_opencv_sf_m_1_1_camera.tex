\hypertarget{class_opencv_sf_m_1_1_camera}{
\section{OpencvSfM::Camera Class Reference}
\label{class_opencv_sf_m_1_1_camera}\index{OpencvSfM::Camera@{OpencvSfM::Camera}}
}


This class represent the physical device which take the pictures. It is not related to a 3D position which is the role of the class \hyperlink{class_opencv_sf_m_1_1_field_of_view}{FieldOfView}. The role of the class is to store only device related informations like intra parameters, radial and tangential distotion.  




{\ttfamily \#include $<$Camera.h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_opencv_sf_m_1_1_camera_a5c689d729d8a8bee7b3f57d5dd764cd7}{
{\bfseries Camera} (cv::Mat intra\_\-params=cv::Mat::eye(3, 3, CV\_\-64F), cv::Vec$<$ double, 6 $>$ radial\_\-dist=cv::Vec$<$ double, 6 $>$(0.0, 0.0, 0.0, 0.0, 0.0, 0.0), cv::Vec$<$ double, 2 $>$ tangential\_\-dist=cv::Vec$<$ double, 2 $>$(0.0, 0.0))}
\label{class_opencv_sf_m_1_1_camera_a5c689d729d8a8bee7b3f57d5dd764cd7}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_opencv_sf_m_1_1_camera_ab8ba859298ee9c13374477a99dd4241e}{
cv::Mat \hyperlink{class_opencv_sf_m_1_1_camera_ab8ba859298ee9c13374477a99dd4241e}{intra\_\-params\_\-}}
\label{class_opencv_sf_m_1_1_camera_ab8ba859298ee9c13374477a99dd4241e}

\begin{DoxyCompactList}\small\item\em store intra parameters(3$\ast$3 matrix). This matrix contains focal informations, principal point coordinates and skew of axis \end{DoxyCompactList}\item 
\hypertarget{class_opencv_sf_m_1_1_camera_a78c5473c4630de99d70d2d26d8321117}{
cv::Mat \hyperlink{class_opencv_sf_m_1_1_camera_a78c5473c4630de99d70d2d26d8321117}{inv\_\-intra\_\-params\_\-}}
\label{class_opencv_sf_m_1_1_camera_a78c5473c4630de99d70d2d26d8321117}

\begin{DoxyCompactList}\small\item\em This is the inverse transformation of intra\_\-params\_\-. Used to speed up calculus... \end{DoxyCompactList}\item 
\hypertarget{class_opencv_sf_m_1_1_camera_aa944a739f433b8fa984a963478f6d1f8}{
cv::Vec$<$ double, 6 $>$ \hyperlink{class_opencv_sf_m_1_1_camera_aa944a739f433b8fa984a963478f6d1f8}{radial\_\-dist\_\-}}
\label{class_opencv_sf_m_1_1_camera_aa944a739f433b8fa984a963478f6d1f8}

\begin{DoxyCompactList}\small\item\em used to store radial dist parameters (/f\$k\_\-1/f\$ to /f\$k\_\-6/f\$) \end{DoxyCompactList}\item 
\hypertarget{class_opencv_sf_m_1_1_camera_aca7121c3867cfd9af58c888b206581b9}{
cv::Vec$<$ double, 2 $>$ \hyperlink{class_opencv_sf_m_1_1_camera_aca7121c3867cfd9af58c888b206581b9}{tangential\_\-dist\_\-}}
\label{class_opencv_sf_m_1_1_camera_aca7121c3867cfd9af58c888b206581b9}

\begin{DoxyCompactList}\small\item\em used to store tangential dist parameters (/f\$p\_\-1/f\$ and /f\$p\_\-2/f\$) \end{DoxyCompactList}\item 
\hypertarget{class_opencv_sf_m_1_1_camera_a8d0f1e2b2467b256b34fee4a5df31e4d}{
unsigned char \hyperlink{class_opencv_sf_m_1_1_camera_a8d0f1e2b2467b256b34fee4a5df31e4d}{config\_\-}}
\label{class_opencv_sf_m_1_1_camera_a8d0f1e2b2467b256b34fee4a5df31e4d}

\begin{DoxyCompactList}\small\item\em This attribut is used to know what we should estimate... If equal to 0, everything should be estimated... \end{DoxyCompactList}\item 
\hypertarget{class_opencv_sf_m_1_1_camera_aa12601d4d667646d9be47e5355eebe04}{
std::vector$<$ \hyperlink{class_opencv_sf_m_1_1_field_of_view}{FieldOfView} $>$ \hyperlink{class_opencv_sf_m_1_1_camera_aa12601d4d667646d9be47e5355eebe04}{pointsOfView\_\-}}
\label{class_opencv_sf_m_1_1_camera_aa12601d4d667646d9be47e5355eebe04}

\begin{DoxyCompactList}\small\item\em vector of the differents positions of the camera. This will store images too. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class represent the physical device which take the pictures. It is not related to a 3D position which is the role of the class \hyperlink{class_opencv_sf_m_1_1_field_of_view}{FieldOfView}. The role of the class is to store only device related informations like intra parameters, radial and tangential distotion. 

This class can be used to store device related informations like intra parameters, radial and tangential distortion. We use the so-\/called pinhole camera model. That is, a scene view is formed by projecting 3D points into the image plane using a perspective transformation. Usual notation says that a point \mbox{[}u,v\mbox{]} from an image is related to the point \mbox{[}X,Y,Z\mbox{]} using the following notation : \[ s \begin{bmatrix} u \\ v \\ 1 \end{bmatrix} = \begin{bmatrix}f_x & 0 & c_x \\ 0 & f_y & c_y \\ 0 & 0 & 1 \end{bmatrix} \begin{bmatrix} r_{11} & r_{12} & r_{13} & t_1 \\ r_{21} & r_{22} & r_{23} & t_2 \\ r_{31} & r_{32} & r_{33} & t_3 \end{bmatrix} \begin{bmatrix} X \\ Y \\ Z \\ 1 \end{bmatrix} \]

This leads to the following relation between local coordinates and global ones: \[ \begin{array}{l} \vspace{10pt} \begin{bmatrix} x \\ y \\ z \end{bmatrix} = R \begin{bmatrix} X \\ Y \\ Z \end{bmatrix} + t \\ x' = x/z \\ y' = y/z \vspace{10pt} \end{array} \]

Additionnal radial and tangeancial distortion are modelized like this: \[ \begin{array}{l} \vspace{10pt} x'' = x' \dfrac{1 + k_1 r^2 + k_2 r^4 + k_3 r^6}{1 + k_4 r^2 + k_5 r^4 + k_6 r^6} + 2 p_1 x' y' + p_2(r^2 + 2 x'^2) \\ \vspace{10pt} y'' = y' \dfrac{1 + k_1 r^2 + k_2 r^4 + k_3 r^6}{1 + k_4 r^2 + k_5 r^4 + k_6 r^6} + p_1 (r^2 + 2 y'^2) + 2 p_2 x' y' \\ \text{where} \quad r^2 = x'^2 + y'^2 \\ u = f_x*x'' + c_x \\ v = f_y*y'' + c_y \end{array} \] radial\_\-dist\_\- can be used to store /f\$k\_\-1/f\$ to /f\$k\_\-6/f\$ tangential\_\-dist\_\- can be used to store /f\$p\_\-1/f\$ and /f\$p\_\-2/f\$ 

Definition at line 48 of file Camera.h.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
D:/Travail/These/Determination caracteristiques camera/GSoC/SfM/src/Camera.h\item 
D:/Travail/These/Determination caracteristiques camera/GSoC/SfM/src/Camera.cpp\end{DoxyCompactItemize}
